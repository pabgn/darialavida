<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <title>Darialavida</title>
    <meta name="description" content="La fiesta contin√∫a en el afterparty de √ÅGORA: Este 19 de octubre, tras el evento principal en UMusic Hotel, √∫nete a nosotros en Club Malasa√±a, el epicentro de la creatividad madrile√±a.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://join.darialavida.club">
    <meta property="og:title" content="√Ågora: Visual Artist Afterparty Hosted by CASPE Club">
    <meta property="og:description" content="La fiesta contin√∫a en el afterparty de √ÅGORA: Este 19 de octubre, tras el evento principal en UMusic Hotel, √∫nete a nosotros en Club Malasa√±a, el epicentro de la creatividad madrile√±a. ">
    <meta property="og:image" content="https://join.darialavida.club/cartel.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://join.darialavida.club">
    <meta property="twitter:title" content="√Ågora: Visual Artist Afterparty Hosted by CASPE Club">
    <meta property="twitter:description" content="La fiesta contin√∫a en el afterparty de √ÅGORA: Este 19 de octubre, tras el evento principal en UMusic Hotel, √∫nete a nosotros en Club Malasa√±a, el epicentro de la creatividad madrile√±a. ">
    <meta property="twitter:image" content="https://join.darialavida.club/cartel.jpg">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://join.darialavida.club">
    <style>
        .container {
            max-width: 1140px;
            margin: 0 auto;
            padding: 0 15px;
        }
        .cartel-container {
            width: 100%;
            max-width: 1140px;
            margin: 0 auto;
            overflow: hidden;
        }
        .cartel-image {
            width: 100%;
            height: 350px;
            object-fit: cover;
            object-position: top;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 700px;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-dark bg-dark justify-content-center fixed-top" style="background-color:#0E0E0E !important;display:none;">
        <a class="navbar-brand" href="#">
          <img src="logo.svg" height="30" alt="darialavida">
        </a>
    </nav>
    <div class="cartel-container">
        <img src="cartel.jpg" alt="Event Cartel" class="cartel-image">
    </div>
    <main role="main" class="container">

    <div class="container" style="margin-top:20px;">
        <div class="row">
            <h3>√Ågora: Visual Artist Afterparty Hosted by CASPE Club</h3>
        </div>
        <div class="row">
            <span><i class="pull-right bi-geo"></i> Club Malasa√±a:<small> C. de San Vicente Ferrer, 23. Madrid</small></span>
        </div>
            <div class="row"> 
            <span><i class="pull-right bi-calendar-event"></i> 19/10/2024 <i class="pull-right bi-clock"></i> 15.00h - 19.00h</span>
        </div>

        <div class="row">
        </div>
        <div class="row" style="margin-top:20px;">
            <p>
                La fiesta contin√∫a en el afterparty de √ÅGORA: Este 19 de octubre, tras el evento principal en UMusic Hotel, √∫nete a nosotros en Club Malasa√±a, el epicentro de la creatividad madrile√±a. 
                <p>En colaboraci√≥n con CASPE Club, llevaremos la experiencia a otro nivel con una fusi√≥n de m√∫sica electr√≥nica de vanguardia, performances visuales y una atm√≥sfera inmersiva que desaf√≠a los l√≠mites de la noche. </p>
                <p>Desde las 15:00 hasta las 19:00, disfruta de un tardeo sin barreras, donde la m√∫sica y el arte se encuentran.</p>
            </p>
        </div>
        
        <div class="row" style="margin-top:20px;">
            <h5>Consigue tu entrada</h5>
        </div>
        <div id="formContainer" class="row" style="margin-bottom:50px;">
          <div class="col" style="padding:0;">
              <form id="reservationForm" novalidate>
                  <div class="form-group">
                      <label for="inputName">Nombre</label>
                      <input type="text" class="form-control" id="inputName" required>
                      <div class="invalid-feedback">
                          Por favor, introduce tu nombre.
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="inputSurname">Apellidos</label>
                      <input type="text" class="form-control" id="inputSurname" required>
                      <div class="invalid-feedback">
                          Por favor, introduce tus apellidos.
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="inputEmail">E-mail</label>
                      <input type="email" class="form-control" id="inputEmail" required>
                      <div class="invalid-feedback">
                          Por favor, introduce un email v√°lido.
                      </div>
                  </div>
                  <div class="form-group form-check">
                      <input type="checkbox" class="form-check-input" id="gdprConsent" required>
                      <label class="form-check-label" for="gdprConsent">Acepto el tratamiento de mis datos personales y la recepci√≥n de comunicaciones comerciales de acuerdo con la <a href="#" id="privacyPolicyLink">pol√≠tica de privacidad</a>.</label>
                      <div class="invalid-feedback">
                          Debes aceptar los t√©rminos para continuar.
                      </div>
                  </div>
                  <div id="errorMessage" class="alert alert-danger" style="display: none;"></div>
                  <button type="submit" class="btn btn-primary btn-block" id="submitButton">Enviar</button>
              </form>
          </div>
      </div>

      <div id="thankYouMessage" class="row" style="text-align:center; margin-bottom:50px; display: none;">
              <div class="alert alert-success">
                üéâ ¬°Perfecto! Hemos enviado tu pase al correo electr√≥nico
              </div>
      </div>
      </div>

    </div>
    
    </main>

    <!-- Privacy Policy Modal -->
    <div id="privacyPolicyModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Pol√≠tica de Privacidad</h2>
        <div id="privacyPolicyContent"></div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          const form = document.getElementById('reservationForm');
          const submitButton = document.getElementById('submitButton');
          const formContainer = document.getElementById('formContainer');
          const thankYouMessage = document.getElementById('thankYouMessage');
          const errorMessage = document.getElementById('errorMessage');
          const gdprConsent = document.getElementById('gdprConsent');

          form.addEventListener('submit', function(event) {
              event.preventDefault();
              event.stopPropagation();
              
              if (form.checkValidity() && gdprConsent.checked) {
                  submitForm();
              } else if (!gdprConsent.checked) {
                  errorMessage.textContent = 'Debes aceptar los t√©rminos para continuar.';
                  errorMessage.style.display = 'block';
              }
              
              form.classList.add('was-validated');
          });

          function submitForm() {
              submitButton.disabled = true;
              submitButton.textContent = 'Enviando...';
              errorMessage.style.display = 'none';

              const scriptURL = 'https://script.google.com/macros/s/AKfycbxvOHQd71Wkyd4rblD9Q-rlTHaB4DzyGsl-erg5yhKx44YrjXtYH39Y1gkpiOpU0w-NWw/exec';
              
              const formData = {
                  name: document.getElementById('inputName').value,
                  surname: document.getElementById('inputSurname').value,
                  email: document.getElementById('inputEmail').value,
                  gdprConsent: gdprConsent.checked
              };

              fetch(scriptURL, {
                  redirect: "follow",
                  method: "POST",
                  body: JSON.stringify(formData),
                  headers: {
                      "Content-Type": "text/plain;charset=utf-8",
                  },
              })
              .then(response => response.json())
              .then(data => {
                  if (data.status === "success") {
                      formContainer.style.display = 'none';
                      thankYouMessage.style.display = 'block';
                  } else {
                      throw new Error('Submission failed');
                  }
              })
              .catch(error => {
                  console.error('Error:', error);
                  errorMessage.textContent = 'Ha ocurrido un error. Por favor, int√©ntalo de nuevo m√°s tarde.';
                  errorMessage.style.display = 'block';
              })
              .finally(() => {
                  submitButton.disabled = false;
                  submitButton.textContent = 'Enviar';
              });
          }

          // Privacy Policy Modal
          const modal = document.getElementById('privacyPolicyModal');
          const privacyPolicyLink = document.getElementById('privacyPolicyLink');
          const closeBtn = document.getElementsByClassName('close')[0];
          const privacyPolicyContent = document.getElementById('privacyPolicyContent');

          privacyPolicyLink.onclick = function(e) {
              e.preventDefault();
              fetch('privacy.md')
                  .then(response => response.text())
                  .then(text => {
                      privacyPolicyContent.innerHTML = marked.parse(text);
                      modal.style.display = 'block';
                  });
          }

          closeBtn.onclick = function() {
              modal.style.display = 'none';
          }

          window.onclick = function(event) {
              if (event.target == modal) {
                  modal.style.display = 'none';
              }
          }
      });
    </script>
  </body>
</html>